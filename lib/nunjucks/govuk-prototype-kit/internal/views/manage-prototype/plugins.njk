{% extends "govuk-prototype-kit/internal/views/manage-prototype/layout.njk" %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% for group in groupsOfPlugins %}
        <h2 class="govuk-heading-m">{{ group.name }}</h2>

        <ul class="govuk-list govuk-prototype-kit-manage-prototype-plugin-list-plugin-list">
          {% for plugin in group.plugins %}
            <li class="govuk-prototype-kit-manage-prototype-plugin-list-plugin-list__item">
              <div
                class="govuk-prototype-kit-manage-prototype-plugin-list-plugin-list__item-name">
                {{ plugin.name }}
                {% if plugin.scope %}
                <br/>
                  From {{ plugin.scope }}
                {% endif %}
                {% if plugin.upgradeLink %}
                  <br/>
                  v{{ plugin.latestVersion }} available <a href="{{ plugin.upgradeLink }}">Update</a>
                {% endif %}
              </div>
              <div class="govuk-prototype-kit-manage-prototype-plugin-list-plugin-list__item-version">
                {{ plugin.installedVersion or plugin.latestVersion }}
              </div>
              <div class="govuk-prototype-kit-manage-prototype-plugin-list-plugin-list__item-links">
                <a class="govuk-prototype-kit-manage-prototype-plugin-list-plugin-list__item-link"
                   href="{{ plugin.viewLink }}">Help</a>
                <a class="govuk-prototype-kit-manage-prototype-plugin-list-plugin-list__item-link"
                   href="{{ plugin.installLink }}">{{ plugin.installText }}</a>
              </div>
            </li>
          {% endfor %}
        </ul>
      {% endfor %}
    </div>
  </div>
{% endblock %}
